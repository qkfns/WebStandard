<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>내장객체</title>
</head>
<body>
<h1>내장객체</h1>
<script>
    // 내장객체
    // 브라우저에 미리 정의되어 사용자가 바로 사용할 수 있도록
    // 만들어진 객체를 의미
    // 간단한 값을 처리해서 결과를 반환하는 함수
    // Number/Math/Date/String/Array/JSON 등이 있음

    // Math 객체 : 수학에서 자주사용하는 함수 정의
    document.write('<p>' + Math.min(1,10,-10,0) + '</p>');
    document.write('<p>' + Math.min(1,10,-10,0) + '</p>');
    document.write('<p>' + Math.random() + '</p>');

    document.write('<p>' + Math.round(123.456) + '</p>');
    document.write('<p>' + Math.ceil(123.456) + '</p>');   // 무조건 올림
    document.write('<p>' + Math.floor(123.456) + '</p>');  // 무조건 내림

    // 1~45 사이 난수 6개 생성
    let min = 0, max = 44;

    for (let i = 1 ; i <= 6; ++i){
        let lucky = parseInt(Math.random() * (max - min) + min) + 1;
        document.write(lucky + " ");
    }
</script>
<script>
    // String 객체 : 문자열 관련 작업을 위한 객체

    document.write('<p>' + String.fromCharCode(65) + '</p>');
    document.write('<p>' + String.fromCharCode(97) + '</p>');
    document.write('<p>' + String.fromCharCode(48) + '</p>');
    // ASCII코드에 해당하는 문자값을 출력

    document.write('<p>' + 'Aa0'.charCodeAt(0) + '</p>');
    document.write('<p>' + 'Aa0'.charCodeAt(1) + '</p>');
    document.write('<p>' + 'Aa0'.charCodeAt(2) + '</p>');
    // 특정문자의 코드값 출력

    let str = 'abc123XYZabc';

    document.write('<p>' + str.indexOf('abc') + '</p>');
    // abc가 나온 위치를 찾아봄, 왼쪽기준

    document.write('<p>' + str.indexOf('abcd') + '</p>');
    // 지정한 문자열을 찾지 못하는 경우 -1 출력

    document.write('<p>' + str.indexOf('123') + '</p>');
    // 123이 나온 위치를 찾아봄

    document.write('<p>' + str.indexOf('abc', 5) + '</p>');
    // 위치값 5를 기준으로 abc의 위치를 찾아봄

    document.write('<p>' + str.lastIndexOf('abc') + '</p>');
    // 맨끝을 기준으로 abc의 위치를 찾아봄

    let jumin = '123456-1234567';

    document.write(jumin.charAt(7) + '<br>');
    // 특정 위치의 문자 추출출

    document.write(jumin.slice(0,6) + '<br>');
    // 지정한 위치 사이의 문자열 추출 slice(n, m-1)

    document.write(jumin.slice(-7,-1) + '<br>');
    // 오른쪽 기준으로 지정한 위치의 문자열 추출

    document.write(jumin.slice(-7) + '<br>');
    // 오른쪽 기준으로 지정한 위치 이후의 문자열 추출

    document.write(jumin.substring(7,8) + '<br>');
    // 지정한 위치의 문자열 추출 (start, end-1)

    document.write(jumin.substring(7) + '<br>');
    // end가 지정되지 않으면 나머지 문자열 추출

    document.write(jumin.substr(7,1) + '<br>');
    // 지정한 위치부터 지정한 갯수만큼 문자열 추출

    str = 'abc|123|xyz';

    document.write(str.split('|') + '<br>');
</script>
<script>
    // 정규표현식
    // 문자열을 다룰때 좀더 섬세하게 처리하고 싶다면
    // 정규표현식을 사용하는 것이 좋음
    // ^ : 문자열의 시작 (^a)
    // $ : 문자열의 끝 (z$)
    //
    // . : 임의의 한 문자를 의미
    // + : 1이상 반복
    // ? : 0 또는 1 반복
    // * : 0 이상 반복
    // {m,n} : 최소 m번, 최대 n번 반복

    // |   : or를 의미 (x|y)
    // []  : 선택가능한 문자들의 모음 ([abc])
    // [^] : 특정 문자 제외 ([^xyz])
    // [-] : 문자열 범위 의미 ([0-9])

    str = '간장 공장 공장장은 간 공장장이고' + '된장 공장 공장장은 장 공장장이다';

    let reg1 = /공장/;
    let reg2 = /공장/g;    // 정규표현식 지시자 flags
                          // g 글로벌 검색범위를 전체를 대상으로 설정
    let reg3 = /춘장/;

    // 문자열에서 공장을 찾아봄
    // 조건에 맞는 문자열을 찾으면 index 출력
    // 찾지 못하면 -1 출력
    document.write(str.search(reg1) + '<br>');
    document.write(str.search(reg2) + '<br>');
    document.write(str.search(reg3) + '<br>');

    // match : 조건에 맞는 문자열을 찾으면 문자열 출력
    // 찾지 못하면 -null
    document.write(str.match(reg1) + '<br>');
    document.write(str.match(reg2) + '<br>');
    document.write(str.match(reg3) + '<br>');

    // test : 조건에 맞는 문자열을 찾으면 true를 출력
    // 찾지 못하면 false 출력
    document.write(reg1.test(str) + '<br>');
    document.write(reg2.test(str) + '<br>');
    document.write(reg3.test(str) + '<br>');

    // 특정파일명이 index로 시작하는지
    // 확장자가 html로 끝나는지 검사하는 정규표현식 작성
    let fname = 'index.html';
    reg1 = /^index/;      // index로 시작
    reg2 = /html$/;      // html로 끝끝

    document.write(reg1.test(fname) + '<br>');
    document.write(reg2.test(fname) + '<br>');

    // 전화번호를 확인하는 정규표현식
    // 02-1234-1234, 032-1234-1234
    // 010-1234-1234, 011-1234-1234
    reg1 = /[0-9]{2,3}-[0-9]{3,4}-[0-9]{4}/
    reg2 = /[0-9]{3}-[0-9]{3,4}-[0-9]{4}/
    let data1 = '02-123-4567';
    let data2 = '032-1234-9876';
    let data3 = '010-123-9876';

    document.write('전화번호 정규식1: ' + reg1.test(data1) + '<br>');
    document.write('전화번호 정규식2: ' + reg1.test(data2) + '<br>');
    document.write('전화번호 정규식3: ' + reg2.test(data3) + '<br>');

    // 주민번호를 확인하는 정규표현식
    reg1 = /[0-9]{6}-[0-9]{7}/;
    reg2 = /[0-9]{2}(0[1-9]|1[1-2])([012][0-9]|3[01])-[0-9]{7}/;

    data1 = '123456-1234567';

    document.write('주민번호 정규식1:' + reg1.test(data1) + '<br>');
    document.write('주민번호 정규식2:' + reg2.test(data1) + '<br>');

    // 이메일 주소를 확인하는 정규표현식
    reg1 = /^[0-9a-zA-Z][0-9a-zA-Z]*@[0-9a-zA-Z]*\.[a-zA-Z\.]{3,6}$/;
    reg2 = //;

    data1 = 'abc@xyz.com';
    data2 = 'abc-123@xyz.com';
    data3 = 'abc123@xyz.co.kr';

    document.write('이메일 정규식1:' + reg1.test(data1) + '<br>');
    document.write('이메일 정규식2:' + reg1.test(data2) + '<br>');
    document.write('이메일 정규식3:' + reg1.test(data3) + '<br>');

    // 특정아이디가 올바르게 만들어졌는지 확인
    // 조건 : 알파벳 소문자로 시작하고 대/소문자를 이용해서
    //       총 문자길이가 7~15사이
    // 조건값1 : a1x2y3zbc
    // 조건값2 : abcX98
    // 조건값3 : 9cba123x

    reg1 = /^[a-z][a-zA-Z0-9]{6,14}/;

    data1 = 'a1x2y3zbc';
    data2 = 'abcX98';
    data3 = '9cba123x';

    document.write('아이디 정규식1:' + reg1.test(data1) + '<br>');
    document.write('아이디 정규식2:' + reg1.test(data2) + '<br>');
    document.write('아이디 정규식3:' + reg1.test(data3) + '<br>');

    // 특정 비밀번호가 올바르게 만들어졌는지 확인
    // 조건: 알파벳소문자로 시작하고 대/소문자/숫자/특수문자(!@#$-)를
    // 최소 하나이상 포함해서 총 문자길이가 8~16 사이 작성

</script>
</body>
</html>